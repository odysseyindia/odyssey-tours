{{- define "main" }}

{{- .Scratch.Set "layout" "layouts/tim/hotels/list.html" -}}
 
<section id="{{ .Scratch.Get "id" | lower }}"> 
    <main>
        <div class="container">
            <div class="container details">
                <div>
                    <div class="odc21">
                        <div class="odc22">
                            <div class="supplier-hdr">
                                <div class="mr-30"><h2 class="title-header">Hotels</h2></div>
                                <div class="create-button">
                                    <a class="create-button" tabindex="0" role="button" href="/cities/create"><span >Create a Hotel</span></a>
                                </div>
                            </div>
                            <div class="odc2">
                                <div class="section">
                                    <div>
                                        <button class="search" tabindex="0" type="button">
                                            <span>
                                                <svg class="svg-search" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation">
                                                    <path
                                                    d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                                                    ></path>
                                                    <path fill="none" d="M0 0h24v24H0z"></path>
                                                </svg>
                                            </span>
                                        </button>
                                        <input class="search-box" placeholder="Search" role="searchbox" value="" />
                                    </div>
                                    <div class="flex" role="switch" aria-checked="false" tabindex="0">
                                        <div class="show-archived">Show archived</div>
                                        <button class="btn-archive" tabindex="0" type="button">
                                            <span>
                                                <svg class="svg-archive" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation">
                                                    <path d="M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zM7 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path>
                                                    <path fill="none" d="M0 0h24v24H0z"></path>
                                                </svg>
                                            </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th class="col1" scope="col">
                                        <span class="odc8" tabindex="0" role="button" data-column="name">
                                            <span class="supplier-name">Hotel</span>
                                            <svg class="svg-arrow" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation">
                                                <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path>
                                                <path fill="none" d="M0 0h24v24H0V0z"></path>
                                            </svg>
                                        </span>
                                    </th>
                                    <th class="col2" scope="col">
                                        <span class="odc8" tabindex="0" role="button" data-column="type">
                                            <span class="supplier-name">City</span>
                                            <svg class="svg-arrow" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation">
                                                <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path>
                                                <path fill="none" d="M0 0h24v24H0V0z"></path>
                                            </svg>
                                        </span>
                                    </th>
                                    <th class="col3" scope="col">
                                        <span class="supplier-name">State / Country</span>
                                    </th>
                                    <th class="col4" scope="col">
                                        <span class="odc8" tabindex="0" role="button" data-column="created_at">
                                            <span class="odc1">Created</span>
                                            <svg class="svg-arrow" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation">
                                                <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path>
                                                <path fill="none" d="M0 0h24v24H0V0z"></path>
                                            </svg>
                                        </span>
                                    </th>
                                    <th class="col5" scope="col">
                                        <span></span>
                                    </th>
                                    <th class="col6" scope="col">
                                        <span></span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            {{ with ($.Site.GetPage (printf "/%s/%s" "tags" "Hotels")) }}
                            {{ range (.Paginator 10).Pages }}
                                {{ $array     := split .RelPermalink "/" }}
                                {{ $city      := index $array (sub (len $array) 4) }}
                                {{ $country   := index $array 2 }}
                                <tr data-url="{{ .RelPermalink }}">
                                    <td class="fw">
                                        <div class="name">
                                            {{ .Title }}
                                        </div>
                                    </td>
                                    <td>{{ if ne $city "destinations" }}{{ $city | humanize }}{{ end }}</td>
                                    <td>
                                        <div class="odc20">{{ $country | humanize }}</div>
                                    </td>
                                    <td>{{ .PublishDate.Format "January 2, 2006" }}</td>
                                    <td class="pr-0"></td>
                                    <td>
                                        <div class="menu-icon">
                                            <button class="menu-icon-btn" tabindex="0" type="button" aria-label="More" aria-haspopup="true" title="More">
                                                <span class="svg-menu-span">
                                                    <svg class="svg-menu" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation">
                                                        <path fill="none" d="M0 0h24v24H0z"></path>
                                                        <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path>
                                                    </svg>
                                                </span>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            {{- end }}
                                
                            {{ end }}

                            </tbody>
                        </table>
                            {{ partial "pagination.html" . }}
                    </div>
                </div>
            </div>
        </div>
    </main>
</section>
{{- end }}
{{- define "postscript" }}
<script>


/* add event selectors */
var urls = document.querySelectorAll('[data-url]');

  for(var i = 0; i < urls.length; i++) {
    (function(index) {
      urls[index].addEventListener("click", function(){
       let url = urls[index].dataset.url;
       location.href=String(url);
     })
    })(i);
  }

</script>
{{- end }}