{{- define "main" }}
{{- .Scratch.Set "layout" "layouts/itinerary/list.html" -}}

<section id="{{ .Scratch.Get "id" | lower }}"> 
  {{ partial "heading.html" . }}
  <div class="container">
    <div class="row">
      <div class="mx-auto w-50 p-3">
        {{ with .Params.subtitle }}<h3>{{ . }}</h3>{{ end }}
        {{ .Content }}
      </div>
    </div>
  </div>
  <div class="row">

        <div class="itinerary">
          <h3>Itinerary</h3>
          {{ range $index,$e := .Params.itinerary }}
          <div>
            <hr class="hr-text" data-content="Day {{ add $index 1 }}"> 
            {{ range .item }}
            {{ if in .url "excursions"}}
            <i class="icon-camera"></i>
            {{ else if in .url "hotels"}}
            <i class="icon-bed"></i>
            {{ end }}
            
{{ with .url }}
{{ with $.Site.GetPage "page" . }}{{.Title}}{{end}}
{{ end }}

            {{ .desc }}<br>
            {{ end }}
          
          </div>
          {{ end }}
        </div>

        <div class="workspace">
          <h3>Workspace</h3>
        </div>

        <div class="search">
          <h3>Search</h3>
          <form id="selectForm" action="#">
            <div  class="select-flex">
              <div class="custom-select">
                <select id="url">
                   <option value="">Select a city</option>
                  {{ range (where (where .Site.Pages "Section" "states") ".Params.id" "city") }}
                    <option value="{{ .Permalink }}">{{ .Title }} </option>
                  {{ end }}
                </select>
              </div>
              <div>
                <input type="submit" value="Submit">
              </div>
            </div>
          </form>
        </div>

      </div> 
    </div>
  </div>
</section>

{{- end }}