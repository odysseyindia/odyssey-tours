{{- .Scratch.Set "id" (cond (isset .Params "id") .Params.id (cond (isset .Params "type" ) .Params.type (path.Base .RelPermalink))) }}

{{ $id := .Scratch.Get "id" }}
<!DOCTYPE html>
<html>
    	{{- partial "head.html" . -}}
    <body>
        {{- partial "header.html" . -}}
       
        {{- block "main" . }}{{- end }}
       
        {{- partial "footer.html" . -}}

        {{- partial "script.html" . -}}
        
        {{- block "postscript" . }}{{- end }}
        
        {{- block "template" . }}{{ end }} 

        {{- if ne (getenv "HUGO_ENV") "production" -}}
        {{- with .Scratch.Get "layout" }}
			{{- partial "show-template" (dict "Which" $.Kind "Template" . "ID" $id "Environment" (getenv "HUGO_ENV")) -}}
        {{- end }}
		{{- end }}
    </body>
</html>
{{- .Scratch.Delete "id" }}